"use strict";var KEYMAP={TAB:9};function initNavigation(){initNavToggleSubmenus(),initNavToggleSmall()}function initNavToggleSubmenus(){var e=document.querySelectorAll(".nav--toggle-sub");e.length&&e.forEach(function(e){initEachNavToggleSubmenu(e)})}function initEachNavToggleSubmenu(e){var t=e.querySelectorAll(".menu ul");if(t.length){var l=getDropdownButton();t.forEach(function(e){var t=e.parentNode,n=t.querySelector(".dropdown");if(!n){(n=document.createElement("span")).classList.add("dropdown");var o=document.createElement("i");o.classList.add("dropdown-symbol"),n.appendChild(o),e.parentNode.insertBefore(n,e)}var a=l.cloneNode(!0);a.innerHTML=n.innerHTML,n.parentNode.replaceChild(a,n),a.addEventListener("click",function(e){toggleSubMenu(this.parentNode)}),t.addEventListener("mouseleave",function(e){toggleSubMenu(this,!1)}),t.querySelector("a").addEventListener("focus",function(e){this.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on").forEach(function(e){toggleSubMenu(e,!1)})}),e.addEventListener("keydown",function(e){var t="ul.toggle-show > li > a, ul.toggle-show > li > button";KEYMAP.TAB===e.keyCode&&(e.shiftKey?isfirstFocusableElement(this,document.activeElement,t)&&toggleSubMenu(this.parentNode,!1):islastFocusableElement(this,document.activeElement,t)&&toggleSubMenu(this.parentNode,!1))}),e.parentNode.classList.add("menu-item--has-toggle")})}}function initNavToggleSmall(){var e=document.querySelectorAll(".nav--toggle-small");e.length&&e.forEach(function(e){initEachNavToggleSmall(e)})}function initEachNavToggleSmall(e){var t=e.querySelector(".menu-toggle");t&&(t.setAttribute("aria-expanded","false"),t.addEventListener("click",function(){e.classList.toggle("nav--toggled-on"),this.setAttribute("aria-expanded","false"===this.getAttribute("aria-expanded")?"true":"false")},!1))}function toggleSubMenu(e,t){var n=e.querySelector(".dropdown-toggle"),o=e.querySelector("ul"),a=e.classList.contains("menu-item--toggled-on");void 0!==t&&"boolean"==typeof t&&(a=!t),n.setAttribute("aria-expanded",(!a).toString()),a?(e.classList.remove("menu-item--toggled-on"),o.classList.remove("toggle-show"),n.setAttribute("aria-label",henokScreenReaderText.expand),e.querySelectorAll(".menu-item--toggled-on").forEach(function(e){toggleSubMenu(e,!1)})):(e.parentNode.querySelectorAll("li.menu-item--toggled-on").forEach(function(e){toggleSubMenu(e,!1)}),e.classList.add("menu-item--toggled-on"),o.classList.add("toggle-show"),n.setAttribute("aria-label",henokScreenReaderText.collapse))}function getDropdownButton(){var e=document.createElement("button");return e.classList.add("dropdown-toggle"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",henokScreenReaderText.expand),e}function isfirstFocusableElement(e,t,n){var o=e.querySelectorAll(n);return 0<o.length&&t===o[0]}function islastFocusableElement(e,t,n){var o=e.querySelectorAll(n);return 0<o.length&&t===o[o.length-1]}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initNavigation):initNavigation();